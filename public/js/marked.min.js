(function(){var g={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:b,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+\n*/,text:/^[^\n]+/};g.bullet=/(?:[*+-]|\d+\.)/;g.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;g.item=n(g.item,"gm")(/bull/g,g.bullet)();g.list=n(g.list)(/bull/g,g.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();g.html=n(g.html)("comment",/<!--[^\0]*?-->/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,r())();g.paragraph=n(g.paragraph)("hr",g.hr)("heading",g.heading)("lheading",g.lheading)("blockquote",g.blockquote)("tag","<"+r())("def",g.def)();g.normal={fences:g.fences,paragraph:g.paragraph};g.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/};g.gfm.paragraph=n(g.paragraph)("(?!","(?!"+g.gfm.fences.source.replace("\\1","\\2")+"|")();g.lexer=function(s){var t=[];t.links={};s=s.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");return g.token(s,t,true)};g.token=function(t,u,z){var t=t.replace(/^ +$/gm,""),y,w,A,B,s,x,v;while(t){if(A=g.newline.exec(t)){t=t.substring(A[0].length);if(A[0].length>1){u.push({type:"space"})}}if(A=g.code.exec(t)){t=t.substring(A[0].length);A=A[0].replace(/^ {4}/gm,"");u.push({type:"code",text:!e.pedantic?A.replace(/\n+$/,""):A});continue}if(A=g.fences.exec(t)){t=t.substring(A[0].length);u.push({type:"code",lang:A[2],text:A[3]});continue}if(A=g.heading.exec(t)){t=t.substring(A[0].length);u.push({type:"heading",depth:A[1].length,text:A[2]});continue}if(A=g.lheading.exec(t)){t=t.substring(A[0].length);u.push({type:"heading",depth:A[2]==="="?1:2,text:A[1]});continue}if(A=g.hr.exec(t)){t=t.substring(A[0].length);u.push({type:"hr"});continue}if(A=g.blockquote.exec(t)){t=t.substring(A[0].length);u.push({type:"blockquote_start"});A=A[0].replace(/^ *> ?/gm,"");g.token(A,u,z);u.push({type:"blockquote_end"});continue}if(A=g.list.exec(t)){t=t.substring(A[0].length);u.push({type:"list_start",ordered:isFinite(A[2])});A=A[0].match(g.item);y=false;v=A.length;x=0;for(;x<v;x++){B=A[x];s=B.length;B=B.replace(/^ *([*+-]|\d+\.) +/,"");if(~B.indexOf("\n ")){s-=B.length;B=!e.pedantic?B.replace(new RegExp("^ {1,"+s+"}","gm"),""):B.replace(/^ {1,4}/gm,"")}w=y||/\n\n(?!\s*$)/.test(B);if(x!==v-1){y=B[B.length-1]==="\n";if(!w){w=y}}u.push({type:w?"loose_item_start":"list_item_start"});g.token(B,u);u.push({type:"list_item_end"})}u.push({type:"list_end"});continue}if(A=g.html.exec(t)){t=t.substring(A[0].length);u.push({type:e.sanitize?"paragraph":"html",pre:A[1]==="pre",text:A[0]});continue}if(z&&(A=g.def.exec(t))){t=t.substring(A[0].length);u.links[A[1].toLowerCase()]={href:A[2],title:A[3]};continue}if(z&&(A=g.paragraph.exec(t))){t=t.substring(A[0].length);u.push({type:"paragraph",text:A[0]});continue}if(A=g.text.exec(t)){t=t.substring(A[0].length);u.push({type:"text",text:A[0]});continue}}return u};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:b,tag:/^<!--[^\0]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._linkInside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;d._linkHref=/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/;d.link=n(d.link)("inside",d._linkInside)("href",d._linkHref)();d.reflink=n(d.reflink)("inside",d._linkInside)();d.normal={url:d.url,strong:d.strong,em:d.em,text:d.text};d.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};d.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};d.lexer=function(y){var u="",t=q.links,w,x,s,v;while(y){if(v=d.escape.exec(y)){y=y.substring(v[0].length);u+=v[1];continue}if(v=d.autolink.exec(y)){y=y.substring(v[0].length);if(v[2]==="@"){x=v[1][6]===":"?f(v[1].substring(7)):f(v[1]);s=f("mailto:")+x}else{x=m(v[1]);s=x}u+='<a href="'+s+'">'+x+"</a>";continue}if(v=d.url.exec(y)){y=y.substring(v[0].length);x=m(v[1]);s=x;u+='<a href="'+s+'">'+x+"</a>";continue}if(v=d.tag.exec(y)){y=y.substring(v[0].length);u+=e.sanitize?m(v[0]):v[0];continue}if(v=d.link.exec(y)){y=y.substring(v[0].length);u+=a(v,{href:v[2],title:v[3]});continue}if((v=d.reflink.exec(y))||(v=d.nolink.exec(y))){y=y.substring(v[0].length);w=(v[2]||v[1]).replace(/\s+/g," ");w=t[w.toLowerCase()];if(!w||!w.href){u+=v[0][0];y=v[0].substring(1)+y;continue}u+=a(v,w);continue}if(v=d.strong.exec(y)){y=y.substring(v[0].length);u+="<strong>"+d.lexer(v[2]||v[1])+"</strong>";continue}if(v=d.em.exec(y)){y=y.substring(v[0].length);u+="<em>"+d.lexer(v[2]||v[1])+"</em>";continue}if(v=d.code.exec(y)){y=y.substring(v[0].length);u+="<code>"+m(v[2],true)+"</code>";continue}if(v=d.br.exec(y)){y=y.substring(v[0].length);u+="<br>";continue}if(v=d.text.exec(y)){y=y.substring(v[0].length);u+=m(v[0]);continue}}return u};function a(s,t){if(s[0][0]!=="!"){return'<a href="'+m(t.href)+'"'+(t.title?' title="'+m(t.title)+'"':"")+">"+d.lexer(s[1])+"</a>"}else{return'<img src="'+m(t.href)+'" alt="'+m(s[1])+'"'+(t.title?' title="'+m(t.title)+'"':"")+">"}}var q,c;function j(){return c=q.pop()}function k(){switch(c.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+c.depth+">"+d.lexer(c.text)+"</h"+c.depth+">\n";case"code":if(e.highlight){c.code=e.highlight(c.text,c.lang);if(c.code!=null&&c.code!==c.text){c.escaped=true;c.text=c.code}}if(!c.escaped){c.text=m(c.text,true)}return"<pre><code"+(c.lang?' class="lang-'+c.lang+'"':"")+">"+c.text+"</code></pre>\n";case"blockquote_start":var s="";while(j().type!=="blockquote_end"){s+=k()}return"<blockquote>\n"+s+"</blockquote>\n";case"list_start":var t=c.ordered?"ol":"ul",s="";while(j().type!=="list_end"){s+=k()}return"<"+t+">\n"+s+"</"+t+">\n";case"list_item_start":var s="";while(j().type!=="list_item_end"){s+=c.type==="text"?p():k()}return"<li>"+s+"</li>\n";case"loose_item_start":var s="";while(j().type!=="list_item_end"){s+=k()}return"<li>"+s+"</li>\n";case"html":return !c.pre&&!e.pedantic?d.lexer(c.text):c.text;case"paragraph":return"<p>"+d.lexer(c.text)+"</p>\n";case"text":return"<p>"+p()+"</p>\n"}}function p(){var s=c.text,t;while((t=q[q.length-1])&&t.type==="text"){s+="\n"+j().text}return d.lexer(s)}function i(t){q=t.reverse();var s="";while(j()){s+=k()}q=null;c=null;return s}function m(t,s){return t.replace(!s?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function f(w){var t="",s=w.length,u=0,v;for(;u<s;u++){v=w.charCodeAt(u);if(Math.random()>0.5){v="x"+v.toString(16)}t+="&#"+v+";"}return t}function r(){var s="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b";return s}function n(u,t){u=u.source;t=t||"";return function s(v,w){if(!v){return new RegExp(u,t)}w=w.source||w;w=w.replace(/(^|[^\[])\^/g,"$1");u=u.replace(v,w);return s}}function b(){}b.exec=b;function o(t,s){l(s);return i(g.lexer(t))}var e,h;function l(s){if(!s){s=h}if(e===s){return}e=s;if(e.gfm){g.fences=g.gfm.fences;g.paragraph=g.gfm.paragraph;d.text=d.gfm.text;d.url=d.gfm.url}else{g.fences=g.normal.fences;g.paragraph=g.normal.paragraph;d.text=d.normal.text;d.url=d.normal.url}if(e.pedantic){d.em=d.pedantic.em;d.strong=d.pedantic.strong}else{d.em=d.normal.em;d.strong=d.normal.strong}}o.options=o.setOptions=function(s){h=s;l(s);return o};o.setOptions({gfm:true,pedantic:false,sanitize:false,highlight:null});o.parser=function(t,s){l(s);return i(t)};o.lexer=function(t,s){l(s);return g.lexer(t)};o.parse=o;if(typeof module!=="undefined"){module.exports=o}else{this.marked=o}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());